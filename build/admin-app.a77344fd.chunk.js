(self.webpackChunkapi_cms=self.webpackChunkapi_cms||[]).push([[5538],{95423:(k,E,t)=>{var e={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function l(n){if(!t.o(e,n))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g});var f=e[n],d=f[0];return t.e(f[1]).then(()=>t.t(d,19))}l.keys=()=>Object.keys(e),l.id=95423,k.exports=l},42243:(k,E,t)=>{"use strict";t.d(E,{Z:()=>ot});var e=t(53209),l=t(95489),n=t(67294),f=t(97132),d=t(45697),g=t.n(d),m=t(28702),U=t(80831),A=t(36206),Z=t(79690);const T=({onSubmit:G,schema:Ge})=>{const{formatMessage:x}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(U.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:G,validationSchema:Ge,validateOnChange:!1},({values:Ke,errors:Pe,handleChange:He})=>n.createElement(l.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},x({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Pe.errorMessage&&n.createElement(m.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},x({id:Pe.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(m.Stack,{spacing:6},n.createElement(m.TextInput,{error:Pe.email?x({id:Pe.email,defaultMessage:"This email is invalid."}):"",value:Ke.email,onChange:He,label:x({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:x({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(m.Button,{type:"submit",fullWidth:!0},x({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(l.Link,{to:"/auth/login"},x({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};T.defaultProps={onSubmit:G=>G.preventDefault()},T.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const I=T,R=()=>{const{formatMessage:G}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},G({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(m.Typography,null,G({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(m.Box,{paddingTop:4},n.createElement(m.Typography,null,G({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(l.Link,{to:"/auth/login"},G({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},B=()=>{const{formatMessage:G}=(0,f.useIntl)(),x=(0,l.useQuery)().get("info")||G({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},G({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(m.Typography,null,x),n.createElement(m.Box,{paddingTop:4},n.createElement(m.Typography,null,G({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(l.Link,{to:"/auth/login"},G({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var w=t(27821),ne=t(27361),ce=t.n(ne),ke=t(57557),v=t.n(ke),pe=t(49656),Le=t(11817),$=t(41363),a=t(68070);const S=(0,w.default)(m.Box)`
  text-align: center;
`,M=w.default.a`
  color: ${({theme:G})=>G.colors.primary600};
`,N=(0,w.default)(m.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,Ee=({authType:G,fieldsToDisable:Ge,noSignin:x,onSubmit:Ke,schema:Pe})=>{const He=(0,l.useNotification)(),{push:ie}=(0,pe.useHistory)(),[_e,we]=(0,n.useState)(!1),[q,Xe]=(0,n.useState)(!1),[fe,at]=(0,n.useState)(0),[qe,gt]=(0,n.useState)({}),{trackUsage:rt}=(0,l.useTracking)(),{formatMessage:K}=(0,f.useIntl)(),Be=(0,l.useQuery)().get("registrationToken");return(0,n.useEffect)(()=>{Be&&(async()=>{try{const{data:{data:oe}}=await Le.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Be}`);oe&&gt(oe)}catch(oe){const de=ce()(oe,["response","data","message"],"An error occurred");He({type:"warning",message:de}),ie(`/auth/oops?info=${encodeURIComponent(de)}`)}})()},[Be]),n.createElement(A.ZP,null,n.createElement(A.bU,null,n.createElement(U.Formik,{enableReinitialize:!0,initialValues:{firstname:qe.firstname||"",lastname:qe.lastname||"",email:qe.email||"",password:"",confirmPassword:"",registrationToken:Be||void 0,news:!1},onSubmit:async(be,oe)=>{try{await Pe.validate(be,{abortEarly:!1}),fe>0&&G==="register-admin"&&rt("didSubmitWithErrorsFirstAdmin",{count:fe.toString()}),Ke(Be?{userInfo:v()(be,["registrationToken"]),registrationToken:Be}:be,oe)}catch(de){const xe=(0,l.getYupInnerErrors)(de);at(fe+1),oe.setErrors(xe)}},validateOnChange:!1},({values:be,errors:oe,handleChange:de})=>n.createElement(l.Form,{noValidate:!0},n.createElement(m.Main,null,n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:1},n.createElement(m.Typography,{as:"h1",variant:"alpha"},K({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),n.createElement(S,{paddingBottom:7},n.createElement(m.Typography,{variant:"epsilon",textColor:"neutral600"},K({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),n.createElement(m.Stack,{spacing:6},n.createElement(m.Grid,{gap:4},n.createElement(m.GridItem,{col:6},n.createElement(m.TextInput,{name:"firstname",required:!0,value:be.firstname,error:oe.firstname?K(oe.firstname):void 0,onChange:de,label:K({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(m.GridItem,{col:6},n.createElement(m.TextInput,{name:"lastname",value:be.lastname,onChange:de,label:K({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(m.TextInput,{name:"email",disabled:Ge.includes("email"),value:be.email,onChange:de,error:oe.email?K(oe.email):void 0,required:!0,label:K({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(N,{name:"password",onChange:de,value:be.password,error:oe.password?K(oe.password):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),we(Je=>!Je)},label:K(_e?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},_e?n.createElement($.Eye,null):n.createElement($.EyeStriked,null)),hint:K({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:K({id:"global.password",defaultMessage:"Password"}),type:_e?"text":"password"}),n.createElement(N,{name:"confirmPassword",onChange:de,value:be.confirmPassword,error:oe.confirmPassword?K(oe.confirmPassword):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Xe(Je=>!Je)},label:K(q?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},q?n.createElement($.Eye,null):n.createElement($.EyeStriked,null)),required:!0,label:K({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:q?"text":"password"}),n.createElement(m.Checkbox,{onValueChange:xe=>{de({target:{value:xe,name:"news"}})},value:be.news,name:"news","aria-label":"news"},K({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(M,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},K({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(M,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},K({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(m.Button,{fullWidth:!0,size:"L",type:"submit"},K({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!x&&n.createElement(m.Box,{paddingTop:4},n.createElement(m.Flex,{justifyContent:"center"},n.createElement(l.Link,{label:"Auth.link.signin",to:"/auth/login"},K({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};Ee.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:G=>G.preventDefault()},Ee.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const ge=Ee,re=(0,w.default)(m.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,ye=({onSubmit:G,schema:Ge})=>{const[x,Ke]=(0,n.useState)(!1),[Pe,He]=(0,n.useState)(!1),{formatMessage:ie}=(0,f.useIntl)();return n.createElement(A.ZP,null,n.createElement(m.Main,null,n.createElement(A.bU,null,n.createElement(U.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:G,validationSchema:Ge,validateOnChange:!1},({values:_e,errors:we,handleChange:q})=>n.createElement(l.Form,{noValidate:!0},n.createElement(A.sg,null,n.createElement(Z.Z,null),n.createElement(m.Box,{paddingTop:6,paddingBottom:7},n.createElement(m.Typography,{as:"h1",variant:"alpha"},ie({id:"global.reset-password",defaultMessage:"Reset password"}))),we.errorMessage&&n.createElement(m.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ie({id:we.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(m.Stack,{spacing:6},n.createElement(re,{name:"password",onChange:q,value:_e.password,error:we.password?ie({id:we.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ke(fe=>!fe)},label:ie(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},x?n.createElement($.Eye,null):n.createElement($.EyeStriked,null)),hint:ie({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ie({id:"global.password",defaultMessage:"Password"}),type:x?"text":"password"}),n.createElement(re,{name:"confirmPassword",onChange:q,value:_e.confirmPassword,error:we.confirmPassword?ie({id:we.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),He(fe=>!fe)},label:ie(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Pe?n.createElement($.Eye,null):n.createElement($.EyeStriked,null)),required:!0,label:ie({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Pe?"text":"password"}),n.createElement(m.Button,{fullwidth:!0,type:"submit"},ie({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(m.Flex,{justifyContent:"center"},n.createElement(m.Box,{paddingTop:4},n.createElement(l.Link,{to:"/auth/login"},ie({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};ye.defaultProps={onSubmit:G=>G.preventDefault()},ye.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const Me=ye;var nt=function(){return window&&window.strapi&&window.strapi.isEE?t(9442).Z:t(73347).Z}(),Ie={"forgot-password":{Component:I,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:e.Ry().shape({email:e.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:R,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:nt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:e.Ry().shape({email:e.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required),password:e.Z_().required(l.translatedErrors.required),rememberMe:e.Xg().nullable()}),inputsPrefix:""},oops:{Component:B,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:ge,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:e.Ry().shape({firstname:e.Z_().trim().required(l.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required),registrationToken:e.Z_().required(l.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:ge,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:e.Ry().shape({firstname:e.Z_().trim().required(l.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),email:e.Z_().email(l.translatedErrors.email).strict().lowercase(l.translatedErrors.lowercase).required(l.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:Me,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:e.Ry().shape({password:e.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)})}};const ot=Ie},87751:(k,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(96486);const n={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var f=function(){return window&&window.strapi&&window.strapi.isEE?t(2199).Z:t(69623).Z}(),d=(0,e.merge)(n,f);const g=d},31424:(k,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Ks});var e=t(67294),l=t(49656),n=t(28702),f=t(82492),d=t.n(f),g=t(78718),m=t.n(g),U=t(23560),A=t.n(U),Z=t(41143),T=t.n(Z),I=t(15482),ee=t(63871);const W=()=>{const i=[];return{register(s){i.push(s)},delete(s){i.splice(i.indexOf(s),1)},runWaterfall(s,o){return i.reduce((r,c)=>c(r,o),s)},async runWaterfallAsync(s,o){let r=s;for(const c of i)r=await c(r,o);return r},runSeries(...s){return i.map(o=>o(...s))},async runSeriesAsync(...s){const o=[];for(const r of i)o.push(await r(...s));return o},runParallel(...s){return Promise.all(i.map(o=>o(...s)))}}};var B=t(35281);const w=(i,s)=>{let o=B.compose;const r=[];i.forEach(y=>{r.push(y())});const c=(0,B.createStore)(ne(s,{}),{},o((0,B.applyMiddleware)(...r)));return c.asyncReducers={},c.injectReducer=(y,P)=>{c.asyncReducers[y]=P,c.replaceReducer(ne(s,c.asyncReducers))},c},ne=(i,s)=>(0,B.combineReducers)({...i,...s}),ce=w;var ke=t(42775),v=t(95489),pe=t(11817),Le=t(97132),$=t(45697),a=t.n($);const S=({component:i,path:s,...o})=>{const{pathname:r,search:c}=(0,l.useLocation)();return e.createElement(l.Route,{path:s,render:y=>v.auth.getToken()!==null?e.createElement(i,{...o,...y}):e.createElement(l.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${c}`)}`}})})};S.propTypes={component:a().any.isRequired,path:a().string.isRequired};const M=(0,e.memo)(S);var N=t(38683),Ee=t(87462),ge=t(64572),re=t(15861),ye=t(70885),Me=t(44925),nt=t(64687),Ie=t.n(nt),ot=t(68929),G=t.n(ot),Ge=t(27361),x=t.n(Ge),Ke=t(57557),Pe=t.n(Ke);const He="GUIDED_TOUR_CURRENT_STEP",ie="GUIDED_TOUR_COMPLETED_STEPS",_e="GUIDED_TOUR_SKIPPED",we=JSON.parse,q=JSON.stringify,fe={clear(){localStorage.removeItem(He),localStorage.removeItem(ie)},addCompletedStep(i){const s=we(localStorage.getItem(ie))?.slice()||[];s.includes(i)||(s.push(i),localStorage.setItem(ie,q(s)))},addCurrentStep(i){localStorage.setItem(He,q(i))},setSkipped(i){localStorage.setItem(_e,q(i))},get(i){return we(localStorage.getItem(i))}};var at=t(50592),qe=t(27858);const rt=i=>i;var K=t(18172),Mt=t(96486);const Be={formErrors:{},modifiedData:{},requestError:null},be=(i,s)=>(0,K.default)(i,o=>{switch(s.type){case"ON_CHANGE":{(0,Mt.set)(o.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Be;case"SET_DATA":{o.modifiedData=s.data;break}case"SET_ERRORS":{o.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{o.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return o}});var oe=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function de(i,s){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),o.push.apply(o,r)}return o}function xe(i){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?de(Object(o),!0).forEach(function(r){(0,ge.Z)(i,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(o,r))})}return i}var Je=function(){return window&&window.strapi&&window.strapi.isEE?t(98837).Z:t(42243).Z}(),it=function(s){var o=s.hasAdmin,r=s.setHasAdmin,c=(0,l.useHistory)(),y=c.push,P=c.location.search,L=(0,at.Z)(),le=L.changeLocale,Y=(0,v.useGuidedTour)(),te=Y.setSkipped,O=(0,v.useTracking)(),z=O.trackUsage,V=(0,l.useRouteMatch)("/auth/:authType"),b=V.params.authType,j=(0,v.useQuery)(),se=x()(Je,b,{}),Ue=se.Component,dt=se.endPoint,mt=se.fieldsToDisable,tt=se.fieldsToOmit,Ct=se.inputsPrefix,St=se.schema,Hs=(0,Me.Z)(se,oe),_s=(0,e.useReducer)(be,Be,rt),ps=(0,ye.Z)(_s,2),Wt=ps[0],$s=Wt.formErrors,zs=Wt.modifiedData,Vs=Wt.requestError,Lt=ps[1],Xs=pe.Z.CancelToken,pt=Xs.source();(0,e.useEffect)(function(){return function(){pt.cancel("Component unmounted")}},[]),(0,e.useEffect)(function(){Lt({type:"RESET_PROPS"})},[b]);var Qs=function(me){var X=me.target,Te=X.name,J=X.value;Lt({type:"ON_CHANGE",keys:Te,value:J})},Ys=function(){var Ze=(0,re.Z)(Ie().mark(function me(X,Te){var J,ve,Ce,Se;return Ie().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(J=Te.setSubmitting,ve=Te.setErrors,J(!0),Ce=Pe()(X,tt),Se="/admin/".concat(dt),b!=="login"){ue.next=7;break}return ue.next=7,qs(X,Se,{setSubmitting:J,setErrors:ve});case 7:if(!(b==="register"||b==="register-admin")){ue.next=10;break}return ue.next=10,en(X,Se,{setSubmitting:J,setErrors:ve});case 10:if(b!=="forgot-password"){ue.next=13;break}return ue.next=13,Js(Ce,Se,{setSubmitting:J,setErrors:ve});case 13:if(b!=="reset-password"){ue.next=16;break}return ue.next=16,tn(Ce,Se,{setSubmitting:J,setErrors:ve});case 16:case"end":return ue.stop()}},me)}));return function(X,Te){return Ze.apply(this,arguments)}}(),Js=function(){var Ze=(0,re.Z)(Ie().mark(function me(X,Te,J){var ve,Ce;return Ie().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return ve=J.setSubmitting,Ce=J.setErrors,Q.prev=1,Q.next=4,(0,pe.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Te),data:X,cancelToken:pt.token});case 4:y("/auth/forgot-password-success"),Q.next=11;break;case 7:Q.prev=7,Q.t0=Q.catch(1),console.error(Q.t0),Ce({errorMessage:"notification.error"});case 11:return Q.prev=11,ve(!1),Q.finish(11);case 14:case"end":return Q.stop()}},me,null,[[1,7,11,14]])}));return function(X,Te,J){return Ze.apply(this,arguments)}}(),qs=function(){var Ze=(0,re.Z)(Ie().mark(function me(X,Te,J){var ve,Ce,Se,Q,ue,Ne,We;return Ie().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ve=J.setSubmitting,Ce=J.setErrors,ae.prev=1,ae.next=4,(0,pe.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Te),data:Pe()(X,tt),cancelToken:pt.token});case 4:Se=ae.sent,Q=Se.data.data,ue=Q.token,Ne=Q.user,Ne.preferedLanguage&&le(Ne.preferedLanguage),v.auth.setToken(ue,X.rememberMe),v.auth.setUserInfo(Ne,X.rememberMe),gs(),ae.next=23;break;case 14:if(ae.prev=14,ae.t0=ae.catch(1),!ae.t0.response){ae.next=23;break}if(We=x()(ae.t0,["response","data","error","message"],"Something went wrong"),G()(We).toLowerCase()!=="usernotactive"){ae.next=22;break}return y("/auth/oops"),Lt({type:"RESET_PROPS"}),ae.abrupt("return");case 22:Ce({errorMessage:We});case 23:return ae.prev=23,ve(!1),ae.finish(23);case 26:case"end":return ae.stop()}},me,null,[[1,14,23,26]])}));return function(X,Te,J){return Ze.apply(this,arguments)}}(),en=function(){var Ze=(0,re.Z)(Ie().mark(function me(X,Te,J){var ve,Ce,Se,Q,ue,Ne,We,st,ae,he;return Ie().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return ve=J.setSubmitting,Ce=J.setErrors,Oe.prev=1,z("willCreateFirstAdmin"),Oe.next=5,(0,pe.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Te),data:Pe()(X,tt),cancelToken:pt.token});case 5:if(Se=Oe.sent,Q=Se.data.data,ue=Q.token,Ne=Q.user,v.auth.setToken(ue,!1),v.auth.setUserInfo(Ne,!1),ve(!1),r(!0),We=Ne.roles,We&&(st=We.find(function(sn){var nn=sn.code;return nn==="strapi-super-admin"}),st&&(fe.setSkipped(!1),te(!1),z("didLaunchGuidedtour"))),!(b==="register"&&X.userInfo.news===!0||b==="register-admin"&&X.news===!0)){Oe.next=18;break}return y({pathname:"/usecase",search:"?hasAdmin=".concat(o)}),Oe.abrupt("return");case 18:gs(),Oe.next=25;break;case 21:Oe.prev=21,Oe.t0=Oe.catch(1),z("didNotCreateFirstAdmin"),Oe.t0.response&&(ae=Oe.t0.response.data,he=(0,qe.Z)(ae),Ce({apiErrors:he}));case 25:case"end":return Oe.stop()}},me,null,[[1,21]])}));return function(X,Te,J){return Ze.apply(this,arguments)}}(),tn=function(){var Ze=(0,re.Z)(Ie().mark(function me(X,Te,J){var ve,Ce,Se,Q,ue,Ne,We,st;return Ie().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return ve=J.setErrors,Ce=J.setSubmitting,he.prev=1,he.next=4,(0,pe.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Te),data:xe(xe({},X),{},{resetPasswordToken:j.get("code")}),cancelToken:pt.token});case 4:Se=he.sent,Q=Se.data.data,ue=Q.token,Ne=Q.user,v.auth.setToken(ue,!1),v.auth.setUserInfo(Ne,!1),y("/"),he.next=16;break;case 13:he.prev=13,he.t0=he.catch(1),he.t0.response&&(We=x()(he.t0,["response","data","message"],"Something went wrong"),st=x()(he.t0,["response","data","statusCode"],400),Lt({type:"SET_REQUEST_ERROR",errorMessage:We,errorStatus:st}),ve({errorMessage:We}));case 16:return he.prev=16,Ce(!1),he.finish(16);case 19:case"end":return he.stop()}},me,null,[[1,13,16,19]])}));return function(X,Te,J){return Ze.apply(this,arguments)}}(),gs=function(){if(b==="login"){var me=j.get("redirectTo"),X=me?decodeURIComponent(me):"/";y(X)}else y("/")};return!Je[b]||o&&b==="register-admin"||v.auth.getToken()?e.createElement(l.Redirect,{to:"/"}):!o&&b!=="register-admin"?e.createElement(l.Redirect,{to:{pathname:"/auth/register-admin",search:P}}):e.createElement(Ue,(0,Ee.Z)({},Hs,{authType:b,fieldsToDisable:mt,formErrors:$s,inputsPrefix:Ct,modifiedData:zs,onChange:Qs,onSubmit:Ys,requestError:Vs,schema:St}))};it.defaultProps={hasAdmin:!1},it.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const bt=it;var Gt=t(23330),$e=t(27821),Dt=t(80129),Ot=t(79690),kt=t(36206);const It=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Kt=(0,$e.default)(n.Typography)`
  text-align: center;
`,ft=()=>{const i=(0,v.useNotification)(),{push:s,location:o}=(0,l.useHistory)(),{formatMessage:r}=(0,Le.useIntl)(),[c,y]=(0,e.useState)(),[P,L]=(0,e.useState)(""),{firstname:le,email:Y}=v.auth.getUserInfo(),{hasAdmin:te}=(0,Dt.parse)(o?.search,{ignoreQueryPrefix:!0}),O=c==="other",z=V=>{try{(0,pe.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:Y,username:le,firstAdmin:Boolean(!te),persona:{role:V?void 0:c,otherRole:V?void 0:P}}}),i({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(kt.ZP,null,e.createElement(n.Main,{labelledBy:"usecase-title"},e.createElement(kt.bU,null,e.createElement("form",{onSubmit:()=>z(!1)},e.createElement(n.Flex,{direction:"column",paddingBottom:7},e.createElement(Ot.Z,null),e.createElement(n.Box,{paddingTop:6,paddingBottom:1,width:(0,v.pxToRem)(250)},e.createElement(Kt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(n.Stack,{spacing:6},e.createElement(n.Select,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:c},It.map(({intlLabel:V,value:b})=>e.createElement(n.Option,{key:b,value:b},r(V)))),O&&e.createElement(n.TextInput,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:P,onChange:V=>L(V.target.value),"data-testid":"other"}),e.createElement(n.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!c},r({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:4},e.createElement(n.TextButton,{onClick:()=>z(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var ht=t(66716);const $t=async()=>`web-fingerprint-${(await(await ht.ZP.load()).get()).visitorId}`;var Et=t(42982);const wt=[];var zt=function(){return window&&window.strapi&&window.strapi.isEE?t(35499).Z:t(77981).Z}();const jt=[].concat((0,Et.Z)(zt),(0,Et.Z)(wt));var yt=t(48474);const Vt=(0,e.lazy)(()=>Promise.all([t.e(1734),t.e(801)]).then(t.bind(t,93858)));function Xt(){const i=(0,v.useNotification)(),{updateProjectSettings:s}=(0,yt.um)(),{formatMessage:o}=(0,Le.useIntl)(),[{isLoading:r,hasAdmin:c,uuid:y,deviceId:P},L]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),le=(0,v.useAppInfos)(),{get:Y}=(0,v.useFetchClient)(),te=(0,e.useMemo)(()=>(0,N.WW)(jt.map(({to:j,Component:se,exact:Ue})=>(0,N.ot)(se,j,Ue))),[]),[O,z]=(0,e.useState)(null);(0,e.useEffect)(()=>{const j=v.auth.getToken();j&&(async()=>{try{const{data:{token:Ue}}=await(0,v.request)("/admin/renew-token",{method:"POST",body:{token:j}});v.auth.updateToken(Ue)}catch{v.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:se,uuid:Ue,menuLogo:dt,authLogo:mt}}}=await pe.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,v.prefixFileUrlWithBackendUrl)(dt),authLogo:(0,v.prefixFileUrlWithBackendUrl)(mt)});const tt=await $t();if(Ue){const{data:{data:Ct}}=await Y("/admin/telemetry-properties",{validateStatus:St=>St<500});z(Ct);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:tt,eventPropeties:{},userProperties:{environment:le.currentEnvironment},groupProperties:{...Ct,projectId:Ue}}),headers:{"Content-Type":"application/json"}})}catch{}}L({isLoading:!1,hasAdmin:se,uuid:Ue,deviceId:tt})}catch{i({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[i,s]);const V=j=>L(se=>({...se,hasAdmin:j})),b=(0,e.useMemo)(()=>({uuid:y,telemetryProperties:O,deviceId:P}),[y,O,P]);return r?e.createElement(v.LoadingIndicatorPage,null):e.createElement(e.Suspense,{fallback:e.createElement(v.LoadingIndicatorPage,null)},e.createElement(n.SkipToContent,null,o({id:"skipToContent"})),e.createElement(v.TrackingProvider,{value:b},e.createElement(l.Switch,null,te,e.createElement(l.Route,{path:"/auth/:authType",render:j=>e.createElement(bt,{...j,setHasAdmin:V,hasAdmin:c}),exact:!0}),e.createElement(M,{path:"/usecase",component:ft}),e.createElement(M,{path:"/",component:Vt}),e.createElement(l.Route,{path:"",component:Gt.default}))))}const Qt=Xt;var Tt=t(61473),Ut=t(23724),Bt=t(37424),h=t(47713);const p={menuLogo:null,authLogo:null},C=(i=p,s)=>(0,K.default)(i,o=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(o,s.values);break}default:return o}}),D=({children:i,authLogo:s,menuLogo:o,showReleaseNotification:r,showTutorials:c})=>{const[{menuLogo:y,authLogo:P},L]=(0,e.useReducer)(C,p),le=(0,e.useCallback)(({menuLogo:te,authLogo:O})=>L({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:te||o,authLogo:O||s}}),[s,o]),Y=(0,e.useMemo)(()=>({logos:{menu:{custom:y,default:o},auth:{custom:P,default:s}},updateProjectSettings:le,showReleaseNotification:r,showTutorials:c}),[y,o,P,s,le,r,c]);return e.createElement(h._5.Provider,{value:Y},i)};D.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const F=D;var H=t(66913),_=t.n(H),Re=t(93343);const je=({changeLocale:i,children:s,localeNames:o,messages:r})=>e.createElement(Re.Z.Provider,{value:{changeLocale:i,localeNames:o,messages:r}},s);je.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const De=je,Fe="strapi-admin-language",lt=i=>{const s=window.localStorage.getItem(Fe);return{locale:i[s]?s:"en",localeNames:i}},ut={localeNames:{en:"English"},locale:"en"},ct=(i=ut,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:o}=s;return i.localeNames[o]?{...i,locale:o}:i}default:return i}},ze=({children:i,localeNames:s,messages:o})=>{const[{locale:r},c]=(0,e.useReducer)(ct,ut,()=>lt(s));(0,e.useEffect)(()=>{window.localStorage.setItem(Fe,r),document.documentElement.setAttribute("lang",r)},[r]);const y=L=>{c({type:"CHANGE_LOCALE",locale:L})},P=_()(o[r],o.en);return e.createElement(Le.IntlProvider,{locale:r,defaultLocale:"en",messages:P,textComponent:"span"},e.createElement(De,{changeLocale:y,localeNames:s,messages:P},i))};ze.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Ae=ze,Ve=(i,s)=>{const o=Object.entries(s),r=o.findIndex(([y])=>y===i);return o.slice(0,r).every(([,y])=>Object.values(y).every(Boolean))},hs=(i,s)=>{const o=i.split("."),r=o[1],c=Object.entries(s[o[0]]),y=c.findIndex(([L])=>L===r);return c.slice(0,y).every(([,L])=>L)},Yt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Es=(i=Yt,s)=>(0,K.default)(i,o=>{switch(s.type){case"SET_CURRENT_STEP":{o.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,c]=s.currentStep.split(".");o.guidedTourState[r][c]=s.value;break}case"SET_SKIPPED":{o.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{o.isGuidedTourVisible=s.value;break}default:return o}});var ys=t(36968),Ft=t.n(ys);const Ts=i=>{const s={...i},o=fe.get(ie),r=fe.get(He),c=fe.get(_e);if(o&&o.forEach(y=>{const[P,L]=y.split(".");Ft()(s,["guidedTourState",P,L],!0)}),r){const[y,P]=r.split(".");Ft()(s,["guidedTourState",y,P],!0),fe.addCompletedStep(r),fe.addCurrentStep(null)}return c!==null&&Ft()(s,"isSkipped",c),s},Jt=({children:i})=>{const[{currentStep:s,guidedTourState:o,isGuidedTourVisible:r,isSkipped:c},y]=(0,e.useReducer)(Es,Yt,Ts),P=O=>{if(O!==null){const z=x()(o,O),V=hs(O,o);if(z||c||!V)return null}return fe.addCurrentStep(O),y({type:"SET_CURRENT_STEP",step:O})},L=O=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:O})},le=(O,z)=>{fe.addCompletedStep(O),y({type:"SET_STEP_STATE",currentStep:O,value:z})},Y=O=>{const z=o[O];if(z){const V=Ve(O,o),b=Object.keys(z)[0],j=z[b];if(V&&!s&&!j)return P(`${O}.${b}`)}return null},te=O=>{fe.setSkipped(O),y({type:"SET_SKIPPED",value:O})};return e.createElement(v.GuidedTourProvider,{guidedTourState:o,currentStep:s,setCurrentStep:P,setGuidedTourVisibility:L,setSkipped:te,setStepState:le,startSection:Y,isGuidedTourVisible:r,isSkipped:c},i)};Jt.propTypes={children:a().element.isRequired};const vs=Jt;var qt=t(73935),es=t(41363),ts=t(36182);const Ps=(0,$e.default)(n.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:i})=>i.colors.neutral0};
    opacity: 0.9;
  }
`,Rs=(0,$e.default)(n.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,v.pxToRem)(160)};
`,ss=(0,$e.default)(n.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:i})=>i.colors.primary600} !important;
    }
  }
`,Pt=document.createElement("div"),As="autoReloadOverlayBlocker";Pt.setAttribute("id",As);const Cs=$e.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Ss=(0,$e.default)(es.Refresh)`
  animation: ${Cs} 1s infinite linear;
`,ns=({displayedIcon:i,description:s,title:o,isOpen:r})=>{const{formatMessage:c}=(0,Le.useIntl)();return(0,e.useEffect)(()=>(document.body.appendChild(Pt),()=>{document.body.removeChild(Pt)}),[]),r?qt.createPortal(e.createElement(Ps,null,e.createElement(Rs,{spacing:6},e.createElement(n.Stack,{spacing:2},e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h1",variant:"alpha"},c(o))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},c(s)))),e.createElement(n.Flex,{justifyContent:"center"},i==="reload"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(Ss,{width:(0,v.pxToRem)(36),height:(0,v.pxToRem)(36)})),i==="time"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(es.Clock,{width:(0,v.pxToRem)(40),height:(0,v.pxToRem)(40)}))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:2},e.createElement(ts.r,{href:"https://docs.strapi.io",isExternal:!0},c({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Pt):null};ns.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Ls=ns,os=30,as=({children:i})=>{const[s,o]=(0,e.useState)(!1),[{elapsed:r},c]=(0,e.useState)({elapsed:0,start:0}),[y,P]=(0,e.useState)(void 0),L=(j=void 0)=>{o(!0),P(j),c(se=>({...se,start:Date.now()}))},le=()=>{o(!1),c({start:0,elapsed:0}),P(void 0)},Y=(0,e.useRef)(L),te=(0,e.useRef)(le);(0,e.useEffect)(()=>{let j=null;return s?j=setInterval(()=>r>os?(clearInterval(j),null):(c(se=>({...se,elapsed:Math.round(Date.now()-se.start)/1e3})),null),1e3):clearInterval(j),()=>{clearInterval(j)}},[s,r]);let O=y?.icon||"reload",z={id:y?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},V={id:y?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>os&&(O="time",z={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},V={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const b=(0,e.useMemo)(()=>({lockApp:Y.current,unlockApp:te.current}),[Y,te]);return e.createElement(v.AutoReloadOverlayBockerContext.Provider,{value:b},e.createElement(Ls,{displayedIcon:O,isOpen:s,description:z,title:V}),i)};as.propTypes={children:a().element.isRequired};const Ms=as,Zt=({dispatch:i,notification:s})=>{const{formatMessage:o}=(0,Le.useIntl)(),{message:r,link:c,type:y,id:P,onClose:L,timeout:le,blockTransition:Y,title:te}=s,O=j=>typeof j=="string"?j:o(j,j.values),z=(0,e.useCallback)(()=>{L&&L(),i({type:"HIDE_NOTIFICATION",id:P})},[P]);(0,e.useEffect)(()=>{let j;return Y||(j=setTimeout(()=>{z()},le||2500)),()=>clearTimeout(j)},[Y,z,le]);let V,b;return y==="info"?(V="default",b=o({id:"notification.default.title",defaultMessage:"Information:"})):y==="warning"?(V="danger",b=o({id:"notification.warning.title",defaultMessage:"Warning:"})):y==="softWarning"?(V="warning",b=o({id:"notification.warning.title",defaultMessage:"Warning:"})):(V="success",b=o({id:"notification.success.title",defaultMessage:"Success:"})),te&&(b=typeof te=="string"?te:o(te)),e.createElement(n.Alert,{action:c?e.createElement(ts.r,{href:c.url,isExternal:!0},o({id:c.label?.id||c.label,defaultMessage:c.label?.defaultMessage||c.label?.id||c.label})):void 0,onClose:z,closeLabel:"Close",title:b,variant:V},O({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};Zt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Zt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const bs=Zt,rs={notifId:0,notifications:[]},Ds=(i=rs,s)=>(0,K.default)(i,o=>{switch(s.type){case"SHOW_NOTIFICATION":{o.notifications.push({id:i.notifId,type:x()(s,["config","type"],"success"),message:x()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:x()(s,["config","link"],null),timeout:x()(s,["config","timeout"],2500),blockTransition:x()(s,["config","blockTransition"],!1),onClose:x()(s,["config","onClose"],null),title:x()(s,["config","title"],null)}),o.notifId=i.notifId+1;break}case"HIDE_NOTIFICATION":{const r=i.notifications.findIndex(c=>c.id===s.id);r!==-1&&o.notifications.splice(r,1);break}default:return o}}),is=({children:i})=>{const[{notifications:s},o]=(0,e.useReducer)(Ds,rs),r=c=>{o({type:"SHOW_NOTIFICATION",config:c})};return e.createElement(v.NotificationsProvider,{toggleNotification:r},e.createElement(n.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(c=>e.createElement(bs,{key:c.id,dispatch:o,notification:c}))),i)};is.propTypes={children:a().element.isRequired};const Os=is,Rt=document.createElement("div");Rt.setAttribute("id","overlayBlocker");const ks=$e.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ls=({isOpen:i})=>((0,e.useEffect)(()=>(document.body.appendChild(Rt),()=>{document.body.removeChild(Rt)}),[]),i?qt.createPortal(e.createElement(ks,null),Rt):null);ls.propTypes={isOpen:a().bool.isRequired};const us=({children:i})=>{const[s,o]=(0,e.useState)(!1),r=()=>{o(!0)},c=()=>{o(!1)};return e.createElement(v.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:c}},i,e.createElement(ls,{isOpen:s}))};us.propTypes={children:a().node.isRequired};const Is=us,Nt="STRAPI_THEME",ws=()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Nt);return s||localStorage.setItem(Nt,i),s||i},cs=({children:i,themes:s})=>{const[o,r]=(0,e.useState)(ws()),c=(0,e.useCallback)(P=>{r(P),localStorage.setItem(Nt,P)},[r]),y=(0,e.useMemo)(()=>({currentTheme:o,onChangeTheme:c,themes:s}),[o,c,s]);return e.createElement(h.Rj.Provider,{value:y},i)};cs.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const js=cs,Us=$e.createGlobalStyle`
  body {
    background: ${({theme:i})=>i.colors.neutral100};
  }
`,ds=({children:i})=>{const{currentTheme:s,themes:o}=(0,yt.M1)();return e.createElement(n.ThemeProvider,{theme:o[s]||o.light},i,e.createElement(Us,null))};ds.propTypes={children:a().element.isRequired};const Bs=ds,xs=new Ut.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ms=({authLogo:i,children:s,components:o,customFields:r,fields:c,getAdminInjectedComponents:y,getPlugin:P,localeNames:L,menu:le,menuLogo:Y,messages:te,plugins:O,runHookParallel:z,runHookSeries:V,runHookWaterfall:b,settings:j,showReleaseNotification:se,showTutorials:Ue,store:dt,themes:mt})=>e.createElement(js,{themes:mt},e.createElement(Bs,null,e.createElement(Ut.QueryClientProvider,{client:xs},e.createElement(Bt.Provider,{store:dt},e.createElement(h.ux.Provider,{value:{getAdminInjectedComponents:y}},e.createElement(F,{authLogo:i,menuLogo:Y,showReleaseNotification:se,showTutorials:Ue},e.createElement(v.StrapiAppProvider,{getPlugin:P,menu:le,plugins:O,runHookParallel:z,runHookWaterfall:b,runHookSeries:V,settings:j},e.createElement(v.LibraryProvider,{components:o,fields:c},e.createElement(v.CustomFieldsProvider,{customFields:r},e.createElement(Ae,{messages:te,localeNames:L},e.createElement(Ms,null,e.createElement(Is,null,e.createElement(vs,null,e.createElement(Os,null,s))))))))))))));ms.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Fs=ms,Zs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var At=t(80660);const Ns={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},Ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class Gs{constructor({adminConfig:s,appPlugins:o,library:r,middlewares:c,reducers:y}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:Tt,head:{favicon:Ws},locales:["en"],menuLogo:Tt,notifications:{releases:!0},themes:{light:n.lightTheme,dark:n.darkTheme},translations:{},tutorials:!0},this.appPlugins=o||{},this.library=r,this.middlewares=c,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:Ns},this.customFields=ke.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(o=>this.library.components.add(o)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(o=>this.library.fields.add(o)):this.library.fields.add(s)};addMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),T()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),T()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(o=>{this.middlewares.add(o)})};addReducers=s=>{Object.keys(s).forEach(o=>{this.reducers.add(o,s[o])})};addSettingsLink=(s,o)=>{T()(this.settings[s],"The section does not exist");const r=JSON.stringify(o);T()(o.id,`link.id should be defined for ${r}`),T()(o.intlLabel?.id&&o.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),T()(o.to,`link.to should be defined for ${r}`),T()(o.Component&&typeof o.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(o)};addSettingsLinks=(s,o)=>{T()(this.settings[s],"The section does not exist"),T()(Array.isArray(o),"TypeError expected links to be an array"),o.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const o=this.appPlugins[s].bootstrap;o&&o({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),A()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(At.No),this.createHook(At.LK),this.createHook(At.dV),this.createHook(At.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,o=this.customConfigurations.theme.light;!s&&!o&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),d()(this.configurations.themes.light,this.customConfigurations.theme)),o&&d()(this.configurations.themes.light,o),s&&d()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=W()};createSettingSection=(s,o)=>{T()(s.id,"section.id should be defined"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),T()(Array.isArray(o),"TypeError expected links to be an array"),T()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},o.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>ce(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,o,r)=>{try{return this.admin.injectionZones[s][o][r]||[]}catch(c){return console.error("Cannot get injected component",c),c}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,o,r)=>{T()(this.admin.injectionZones.contentManager[s]?.[o],`The ${s} ${o} zone is not defined in the content manager`),T()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][o].push(r)};injectAdminComponent=(s,o,r)=>{T()(this.admin.injectionZones.admin[s]?.[o],`The ${s} ${o} zone is not defined in the admin`),T()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][o].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(c=>t(95423)(`./${c}.json`).then(({default:y})=>({data:y,locale:c})).catch(()=>({data:null,locale:c})));return(await Promise.all(s)).reduce((c,y)=>(y.data&&(c[y.locale]=y.data),c),{})}async loadTrads(){const s=await this.loadAdminTrads(),o=Object.keys(this.appPlugins).map(P=>{const L=this.appPlugins[P].registerTrads;return L?L({locales:this.configurations.locales}):null}).filter(P=>P),c=(await Promise.all(o)).reduce((P,L)=>{const le=L.reduce((Y,te)=>(Y[te.locale]=te.data,Y),{});return Object.keys(le).forEach(Y=>{P[Y]={...P[Y],...le[Y]}}),P},{}),y=this.configurations.locales.reduce((P,L)=>(P[L]={...s[L],...c[L]||{},...this.customConfigurations?.translations?.[L]},P),{});return this.configurations.translations=y,Promise.resolve()}registerHook=(s,o)=>{T()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(o)};registerPlugin=s=>{const o=(0,ke.Sy)(s);this.plugins[o.pluginId]=o};runHookSeries=(s,o=!1)=>o?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,o,r=!1,c)=>r?this.hooksDict[s].runWaterfallAsync(o,c):this.hooksDict[s].runWaterfall(o,c);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),o=m()(Zs,this.configurations.locales||[]),{components:{components:r},fields:{fields:c}}=this.library;return e.createElement(Fs,{authLogo:this.configurations.authLogo,components:r,fields:c,customFields:this.customFields,localeNames:o,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,P,L=!1)=>this.runHookWaterfall(y,P,L,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(I.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(Fe)||"en"}}),e.createElement(l.BrowserRouter,{basename:ee.Z},e.createElement(Qt,{store:s}))))}}const Ks=({adminConfig:i={},appPlugins:s,library:o,middlewares:r,reducers:c})=>new Gs({adminConfig:i,appPlugins:s,library:o,middlewares:r,reducers:c})},93343:(k,E,t)=>{"use strict";t.d(E,{Z:()=>n});var e=t(67294);const n=(0,e.createContext)()},50592:(k,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(67294),l=t(93343);const f=()=>{const{changeLocale:d,localeNames:g,messages:m}=(0,e.useContext)(l.Z);return{changeLocale:d,localeNames:g,messages:m}}},79690:(k,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(67294),l=t(27821),n=t(48474);const f=l.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:m}}=(0,n.um)();return e.createElement(f,{src:m?.custom??m.default,"aria-hidden":!0,alt:""})}},47713:(k,E,t)=>{"use strict";t.d(E,{ux:()=>n,_5:()=>d,$l:()=>m,Rj:()=>A});var e=t(67294);const n=(0,e.createContext)({}),d=(0,e.createContext)({}),m=(0,e.createContext)({}),A=(0,e.createContext)({})},63871:(k,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l="/admin/".replace(window.location.origin,"")},80660:(k,E,t)=>{"use strict";t.d(E,{Eo:()=>n,LK:()=>l,No:()=>e,dV:()=>f});const e="Admin/CM/pages/ListView/inject-column-in-table",l="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",f="Admin/CM/pages/App/mutate-single-types-links"},48474:(k,E,t)=>{"use strict";t.d(E,{um:()=>f,U_:()=>B,Dq:()=>v,H9:()=>ot,bP:()=>T,$_:()=>jt,rW:()=>Bt,bF:()=>we,G4:()=>wt,Te:()=>Ht,M1:()=>Tt});var e=t(67294),l=t(47713);const f=()=>(0,e.useContext)(l._5);var d=t(95489),g=t(18172);const m={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},A=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_MODELS":{u.collectionTypes=m.collectionTypes,u.singleTypes=m.singleTypes,u.components=m.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=m.collectionTypes,u.singleTypes=m.singleTypes,u.components=m.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const C=D=>p.contentTypes.filter(F=>F.isDisplayed&&F.kind===D);u.isLoading=!1,u.collectionTypes=C("collectionType"),u.singleTypes=C("singleType"),u.components=p.components;break}default:return u}}),T=()=>{const h=(0,d.useNotification)(),[p,u]=(0,e.useReducer)(A,m);(0,e.useEffect)(()=>{C()},[]);const C=async()=>{u({type:"GET_MODELS"});try{const[{data:D},{data:F}]=await Promise.all(["components","content-types"].map(H=>(0,d.request)(`/content-manager/${H}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:F,components:D})}catch{u({type:"GET_MODELS_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}};return{...p,getData:C}},I={data:{},error:null,isLoading:!0},R=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=p.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=p.error;break}default:return u}}),B=h=>{const[{data:p,error:u,isLoading:C},D]=(0,e.useReducer)(R,I);return(0,e.useEffect)(()=>{(async()=>{D({type:"GET_DATA"});const{data:H}=await(0,d.request)("/admin/permissions",{method:"GET",params:{role:h}});D({type:"GET_DATA_SUCCEEDED",data:H})})()},[h]),{data:p,error:u,isLoading:C}},w={role:{},permissions:{},isLoading:!0},ce=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.role=p.role,u.permissions=p.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=p.name,u.role.description=p.description;break}default:return u}}),v=h=>{const p=(0,d.useNotification)(),[u,C]=(0,e.useReducer)(ce,w);(0,e.useEffect)(()=>{h?D(h):C({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[h]);const D=async H=>{try{const[{data:_},{data:Re}]=await Promise.all([`roles/${H}`,`roles/${H}/permissions`].map(je=>(0,d.request)(`/admin/${je}`,{method:"GET"})));C({type:"GET_DATA_SUCCEEDED",role:_,permissions:Re})}catch(_){console.error(_),C({type:"GET_DATA_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},F=(0,e.useCallback)(H=>{C({type:"ON_SUBMIT_SUCCEEDED",...H})},[]);return{...u,onSubmitSucceeded:F}},Le=(h,p)=>p.map(({permissions:u})=>(0,d.hasPermissions)(h,u)),a=async(h,p)=>{const u=Le(h,p),C=await Promise.all(u);return p.filter((F,H)=>C[H])};var S=t(50361),M=t.n(S);const Ee=async(h,p,u)=>{const C=Le(h,p),D=await Promise.all(C),F=p.filter((Re,je)=>D[je]),H=F.findIndex(Re=>Re.to==="/settings");if(H===-1)return[];const _=M()(F);return _[H].notificationsCount=u?1:0,_};var ge=t(41363),re=t(87751);const ye={generalSectionLinks:[{icon:ge.Puzzle,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:re.Z.marketplace.main},{icon:ge.ShoppingCart,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:re.Z.marketplace.main},{icon:ge.Cog,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},nt=(h=ye,p)=>(0,g.default)(h,u=>{switch(p.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:C,authorizedPluginSectionLinks:D}=p.data;u.generalSectionLinks=C,u.pluginsSectionLinks=D;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),ot=()=>{const[h,p]=(0,e.useReducer)(nt,ye),{allPermissions:u}=(0,d.useRBACProvider)(),{shouldUpdateStrapi:C}=(0,d.useAppInfos)(),{menu:D}=(0,d.useStrapiApp)(),F=(0,e.useRef)(h.generalSectionLinks),H=(0,e.useRef)(C),_=async(je=u)=>{const Qe=await a(je,D),Fe=await Ee(je,F.current,H.current);p({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:Fe,authorizedPluginSectionLinks:Qe}}),p({type:"UNSET_IS_LOADING"})},Re=(0,e.useRef)(_);return(0,e.useEffect)(()=>{Re.current(u)},[u,p]),h};var G=t(27361),Ge=t.n(G);const Ke=(h,p)=>({...h,isLoading:p}),Pe={roles:[],isLoading:!0},ie=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=p.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),we=(h=!0)=>{const p=(0,d.useNotification)(),[{roles:u,isLoading:C},D]=(0,e.useReducer)(ie,Pe,()=>Ke(Pe,h));(0,e.useEffect)(()=>{h&&F()},[h]);const F=(0,e.useCallback)(async()=>{const H=(0,d.getFetchClient)();try{D({type:"GET_DATA"});const{data:{data:_}}=await H.get("/admin/roles");D({type:"GET_DATA_SUCCEEDED",data:_})}catch(_){const Re=Ge()(_,["response","payload","message"],"An error occured");D({type:"GET_DATA_ERROR"}),Re!=="Forbidden"&&p({type:"warning",message:Re})}},[p]);return{roles:u,isLoading:C,getData:F}};var q=t(96486);const Xe={menu:[],isLoading:!0},at=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"CHECK_PERMISSIONS_SUCCEEDED":{p.data.forEach(C=>{C.hasPermission&&(0,q.set)(u,["menu",...C.path.split("."),"isDisplayed"],C.hasPermission)}),u.menu.forEach((C,D)=>{u.menu[D].links=C.links.filter(F=>F.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var qe=t(57557),gt=t.n(qe),rt=t(89734),K=t.n(rt);const Be=h=>K()(h,p=>p.id),oe=h=>h.map(p=>{const u=p.links.map(C=>({...C,isDisplayed:!1}));return{...p,links:u}});var de=t(42982);const Je=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:re.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:re.Z.settings.users.main}];var it=function(){return window&&window.strapi&&window.strapi.isEE?t(95662).Z:t(40928).Z}();const bt=[].concat((0,de.Z)(it),(0,de.Z)(Je)),$e=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:re.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:re.Z.settings["api-tokens"].main}];var Dt=function(){return window&&window.strapi&&window.strapi.isEE?t(8353).Z:t(88506).Z}();const Ot=[].concat((0,de.Z)($e),(0,de.Z)(Dt)),It=(h,{settings:p,shouldUpdateStrapi:u})=>{const C=p.global.links,D=Be([...C,...Ot]).map(_=>({..._,hasNotification:_.id==="000-application-infos"&&u})),F=Object.values(gt()(p,"global")),H=[{...p.global,links:D},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:bt},...F];return{...h,menu:oe(H)}},Ht=(h=!1)=>{const{allPermissions:p}=(0,d.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,d.useAppInfos)(),{settings:C}=(0,d.useStrapiApp)(),[{isLoading:D,menu:F},H]=(0,e.useReducer)(at,Xe,()=>It(Xe,{settings:C,shouldUpdateStrapi:u}));return(0,e.useEffect)(()=>{h||(async()=>{const Re=async(Fe,et)=>({hasPermission:await(0,d.hasPermissions)(p,Fe),path:et}),De=(Fe=>Fe.reduce((et,lt,ut)=>{const xt=ct=>ct.map((ze,Ae)=>Re(ct[Ae].permissions,`${ut}.links.${Ae}`));return[...et,...xt(lt.links)]},[]))(F),Qe=await Promise.all(De);H({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Qe})})()},[p,h]),{isLoading:D,menu:F}};var ft=t(38683);const ht={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},_t=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,q.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,q.pick)(p.data,h.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=h.initialData,u.formErrors={};break}case"ON_CHANGE":{p.inputType==="password"&&!p.value?(0,q.unset)(u.modifiedData,p.keys.split(".")):p.keys.includes("username")&&!p.value?(0,q.set)(u.modifiedData,p.keys.split("."),null):(0,q.set)(u.modifiedData,p.keys.split("."),p.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,q.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,q.pick)(p.data,h.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=p.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Et=(h,p)=>({...h,fieldsToPick:p}),wt=(h,p,u,C)=>{const[{formErrors:D,initialData:F,isLoading:H,modifiedData:_,showHeaderButtonLoader:Re,showHeaderLoader:je},De]=(0,e.useReducer)(_t,ht,()=>Et(ht,C)),Qe=(0,d.useNotification)(),{lockApp:Fe,unlockApp:et}=(0,d.useOverlayBlocker)();return(0,e.useEffect)(()=>{h&&(async()=>{try{const{data:Ae}=await(0,d.request)(h,{method:"GET"});De({type:"GET_DATA_SUCCEEDED",data:Ae,fieldsToPick:C})}catch(Ae){console.error(Ae.response),Qe({type:"warning",message:{id:"notification.error"}})}})()},[h]),[{formErrors:D,initialData:F,isLoading:H,modifiedData:_,showHeaderButtonLoader:Re,showHeaderLoader:je},De,{handleCancel:()=>{De({type:"ON_CANCEL"})},handleChange:({target:{name:ze,value:Ae,type:Ye}})=>{De({type:"ON_CHANGE",inputType:Ye,keys:ze,value:Ae})},handleSubmit:async ze=>{ze.preventDefault();const Ae=await(0,ft.R6)(_,p);if(De({type:"SET_ERRORS",errors:Ae||{}}),!Ae)try{Fe(),De({type:"ON_SUBMIT"});const Ye=(0,q.omit)(_,["confirmPassword","registrationToken"]);Ye.roles&&(Ye.roles=Ye.roles.map(vt=>vt.id));const{data:Ve}=await(0,d.request)(h,{method:"PUT",body:Ye});u(Ve),De({type:"ON_SUBMIT_SUCCEEDED",data:Ve}),Qe({type:"success",message:{id:"notification.success.saved"}})}catch(Ye){const Ve=(0,q.get)(Ye,"response.payload",{data:{}});(0,q.has)(Ve,"data")&&typeof Ve.data=="string"?Qe({type:"warning",message:Ve.data}):Qe({type:"warning",message:Ve.message});const vt=(0,ft.Iz)(Ve);De({type:"SET_ERRORS",errors:vt})}finally{et()}},setField:(ze,Ae)=>{De({type:"ON_CHANGE",keys:ze,value:Ae})}}]},jt=()=>(0,e.useContext)(l.$l),yt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Vt=()=>{const{latestStrapiReleaseTag:h,shouldUpdateStrapi:p}=useAppInfos(),u=useNotification();return useEffect(()=>{p&&yt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${h}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[h,p,u]),null},Xt=null,Tt=()=>(0,e.useContext)(l.Rj),Bt=(h,p)=>{const[u,C]=(0,e.useState)(!1),D=(0,d.useNotification)(),{post:F}=(0,d.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:_}}}=await F(`/admin/api-tokens/${h}/regenerate`);C(!1),p(_)}catch(_){C(!1),D({type:"warning",message:(0,q.get)(_,"response.data.message","notification.error")})}},isLoadingConfirmation:u}}},40928:(k,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},88506:(k,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},36206:(k,E,t)=>{"use strict";t.d(E,{sg:()=>T,bU:()=>I,ZP:()=>R});var e=t(67294),l=t(27821),n=t(45697),f=t.n(n),d=t(28702),g=t(97132),m=t(50592);const A=()=>{const{changeLocale:W,localeNames:B}=(0,m.Z)(),{locale:w}=(0,g.useIntl)();return e.createElement(d.SimpleMenu,{label:B[w]},Object.keys(B).map(ne=>e.createElement(d.MenuItem,{onClick:()=>W(ne),key:ne},B[ne])))},Z=(0,l.default)(d.Box)`
  margin: 0 auto;
  width: 552px;
`,T=(0,l.default)(d.Flex)`
  flex-direction: column;
`,I=({children:W})=>e.createElement(Z,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},W);I.propTypes={children:f().node.isRequired};const ee=({children:W})=>e.createElement("div",null,e.createElement(d.Flex,{as:"header",justifyContent:"flex-end"},e.createElement(d.Box,{paddingTop:6,paddingRight:8},e.createElement(A,null))),e.createElement(d.Box,{paddingTop:2,paddingBottom:11},W));ee.propTypes={children:f().node.isRequired};const R=ee},77981:(k,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=[]},68070:(k,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(27821),l=t(28702),n=t.n(l);const d=(0,e.default)(l.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`},29773:(k,E,t)=>{"use strict";t.d(E,{Z:()=>ne});var e=t(67294),l=t(95489),n=t.n(l),f=t(41363),d=t.n(f),g=t(28702),m=t.n(g),U=t(45697),A=t.n(U),Z=t(97132),T=t(27821),I=t(80831),ee=t(36206),R=t(79690),W=t(68070);const B=(0,T.default)(g.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,w=({onSubmit:ce,schema:ke,children:v})=>{const[pe,Le]=(0,e.useState)(!1),{formatMessage:$}=(0,Z.useIntl)();return e.createElement(g.Main,null,e.createElement(ee.bU,null,e.createElement(I.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:ce,validationSchema:ke,validateOnChange:!1},({values:a,errors:S,handleChange:M})=>e.createElement(l.Form,{noValidate:!0},e.createElement(ee.sg,null,e.createElement(R.Z,null),e.createElement(g.Box,{paddingTop:6,paddingBottom:1},e.createElement(g.Typography,{variant:"alpha",as:"h1"},$({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(g.Box,{paddingBottom:7},e.createElement(g.Typography,{variant:"epsilon",textColor:"neutral600"},$({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),S.errorMessage&&e.createElement(g.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},S.errorMessage)),e.createElement(g.Stack,{spacing:6},e.createElement(g.TextInput,{error:S.email?$({id:S.email,defaultMessage:"This value is required."}):"",value:a.email,onChange:M,label:$({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:$({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(B,{error:S.password?$({id:S.password,defaultMessage:"This value is required."}):"",onChange:M,value:a.password,label:$({id:"global.password",defaultMessage:"Password"}),name:"password",type:pe?"text":"password",endAction:e.createElement(W.Z,{onClick:N=>{N.stopPropagation(),Le(Ee=>!Ee)},label:$(pe?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},pe?e.createElement(f.Eye,null):e.createElement(f.EyeStriked,null)),required:!0}),e.createElement(g.Checkbox,{onValueChange:N=>{M({target:{value:N,name:"rememberMe"}})},value:a.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},$({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(g.Button,{fullWidth:!0,type:"submit"},$({id:"Auth.form.button.login",defaultMessage:"Login"}))))),v),e.createElement(g.Flex,{justifyContent:"center"},e.createElement(g.Box,{paddingTop:4},e.createElement(l.Link,{to:"/auth/forgot-password"},$({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};w.defaultProps={children:null,onSubmit(){}},w.propTypes={children:A().node,onSubmit:A().func,schema:A().shape({type:A().string.isRequired}).isRequired};const ne=w},73347:(k,E,t)=>{"use strict";t.d(E,{Z:()=>m});var e=t(67294),l=t(45697),n=t.n(l),f=t(29773),d=t(36206);const g=U=>e.createElement(d.ZP,null,e.createElement(f.Z,{...U}));g.defaultProps={onSubmit:U=>U.preventDefault()},g.propTypes={onSubmit:n().func};const m=g},23330:(k,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Z});var e=t(67294),l=t(95489),n=t.n(l),f=t(28702),d=t.n(f),g=t(41363),m=t.n(g),U=t(97132);const Z=()=>{const{formatMessage:T}=(0,U.useIntl)();return(0,l.useFocusWhenNavigate)(),e.createElement(f.Main,{labelledBy:"title"},e.createElement(f.HeaderLayout,{id:"title",title:T({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(f.ContentLayout,null,e.createElement(f.EmptyStateLayout,{action:e.createElement(l.LinkButton,{variant:"secondary",endIcon:e.createElement(g.ArrowRight,null),to:"/"},T({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:T({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(g.EmptyPictures,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(k,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e={}},27858:(k,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l=({data:n})=>{try{return Object.keys(n).reduce((f,d)=>{const g=n[d][0];return f[d]={id:g,defaultMessage:g},f},{})}catch{return{}}}},38683:(k,E,t)=>{"use strict";t.d(E,{R6:()=>n,ot:()=>Z,Iz:()=>T.Z,Pp:()=>Le,IF:()=>pe,Qy:()=>a,WW:()=>B});var e=t(95489);const n=async(S,M)=>{let N=null;try{await M.validate(S,{abortEarly:!1})}catch(Ee){N=(0,e.getYupInnerErrors)(Ee)}return N};var f=t(67294),d=t(45697),g=t.n(d),m=t(49656);const U=({loadComponent:S})=>{const[M,N]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{const ge=await S();N(()=>ge.default)}catch(ge){console.log(ge)}})()},[S]),M?f.createElement(M,null):f.createElement(e.LoadingIndicatorPage,null)},A=(S,M,N)=>f.createElement(m.Route,{render:()=>f.createElement(U,{loadComponent:S}),key:M,path:M,exact:N||!1});U.propTypes={loadComponent:g().func.isRequired};const Z=A;var T=t(27858),I=t(96486);const ee=S=>{const M=get(S,["options","timestamps"]);let N=Array.isArray(M)?M:[];const ge=[...["id","_id"],...N,"publishedAt"],re=get(S,["attributes"],{});return Object.keys(re).reduce((ye,Me)=>(ge.includes(Me)||ye.push({...re[Me],attributeName:Me}),ye),[])},R=null,B=S=>S.filter((M,N,Ee)=>Ee.findIndex(ge=>ge.key===M.key)===N),w=S=>sortBy(S,M=>M.name),ne=null,ce=S=>Array.from(new Set(Object.entries(S).reduce((M,N)=>{const Ee=ge=>ge.reduce((re,ye)=>{let Me=re;return ye.actions&&(Me=[...Me,...ye.actions]),typeof ye=="object"&&!ye.actions&&(Me=[...Me,...Object.keys(ye)]),Me},[]);return[...M,...Ee([...Object.values(N[1].attributes||{}),get(N[1],"contentTypeActions",{})])]},[]))),ke=null,pe=S=>`/admin/${S}`,Le=(S,M="")=>[S,M].filter(N=>N).join(" "),$={bufferToHex(S){return[...new Uint8Array(S)].map(M=>M.toString(16).padStart(2,"0")).join("")},async digestMessage(S){const M=new TextEncoder().encode(S),N=await crypto.subtle.digest("SHA-256",M);return this.bufferToHex(N)}};async function a(S){if(!S)return null;try{return await $.digestMessage(S.email)}catch{return null}}},90594:(k,E,t)=>{"use strict";t.d(E,{p:()=>A});var e=t(67294),l=t(95489),n=t(38683),f=t(18172);const d={data:[],isLoading:!0},m=(Z,T)=>(0,f.default)(Z,I=>{switch(T.type){case"GET_DATA_SUCCEEDED":{I.data=T.data,I.isLoading=!1;break}case"GET_DATA_ERROR":{I.isLoading=!1;break}default:return I}}),A=({ssoEnabled:Z})=>{const[T,I]=(0,e.useReducer)(m,d),ee=(0,l.useNotification)();(0,e.useEffect)(()=>{R()},[]);const R=async()=>{try{if(!Z){I({type:"GET_DATA_SUCCEEDED",data:[]});return}const W=(0,n.IF)("providers"),B=await(0,l.request)(W,{method:"GET"});I({type:"GET_DATA_SUCCEEDED",data:B})}catch(W){console.error(W),I({type:"GET_DATA_ERROR"}),ee({type:"warning",message:{id:"notification.error"}})}};return T}},95662:(k,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:e.Z.settings.auditLogs.main}]:[]]},8353:(k,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:e.Z.settings.sso.main}]:[]]},35499:(k,E,t)=>{"use strict";t.d(E,{Z:()=>T});var e=t(67294),l=t(49656),n=t(97132),f=t(36808),d=t.n(f),g=t(95489),m=t(38683);const A=()=>{const{params:{authResponse:I}}=(0,l.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:ee}=(0,n.useIntl)(),{push:R}=(0,l.useHistory)(),W=(0,e.useRef)(ee);let B=(0,e.useCallback)(()=>{R(`/auth/oops?info=${encodeURIComponent(W.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[R]);const w=(0,e.useCallback)(async()=>{try{const ne=d().get("jwtToken");if(g.auth.clearAppStorage(),ne){g.auth.setToken(ne,!0);const ce=(0,m.IF)("users/me"),{data:ke}=await(0,g.request)(ce,{method:"GET"});g.auth.setUserInfo(ke,!0),d().remove("jwtToken"),R("/auth/login")}}catch{B()}},[R,B]);return(0,e.useEffect)(()=>{I==="error"&&B(),I==="success"&&w()},[I,w,B]),e.createElement(g.LoadingIndicatorPage,null)},T=[{Component:()=>({default:A}),to:"/auth/login/:authResponse",exact:!0}]},9442:(k,E,t)=>{"use strict";t.d(E,{Z:()=>R});var e=t(67294),l=t(45697),n=t.n(l),f=t(27821),d=t(28702),g=t.n(d),m=t(97132),U=t(29773),A=t(90594),Z=t(36206),T=t(51780);const I=(0,f.default)(d.Divider)`
  flex: 1;
`,ee=W=>{const B=strapi.features.isEnabled(strapi.features.SSO),{isLoading:w,data:ne}=(0,A.p)({ssoEnabled:B}),{formatMessage:ce}=(0,m.useIntl)();return!B||!w&&ne.length===0?e.createElement(Z.ZP,null,e.createElement(U.Z,{...W})):e.createElement(Z.ZP,null,e.createElement(U.Z,{...W},e.createElement(d.Box,{paddingTop:7},e.createElement(d.Stack,{spacing:7},e.createElement(d.Flex,null,e.createElement(I,null),e.createElement(d.Box,{paddingLeft:3,paddingRight:3},e.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},ce({id:"Auth.login.sso.divider"}))),e.createElement(I,null)),e.createElement(T.Z,{providers:ne,displayAllProviders:!1})))))};ee.defaultProps={onSubmit:W=>W.preventDefault(),requestError:null},ee.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object};const R=ee},51780:(k,E,t)=>{"use strict";t.d(E,{Z:()=>ee});var e=t(67294),l=t(45697),n=t.n(l),f=t(28702),d=t.n(f),g=t(27821),m=t(97132),U=t(49656);const A=g.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:R})=>R.colors.neutral150};
  border-radius: ${({theme:R})=>R.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:R})=>R.colors.neutral600};
`,Z=(0,g.default)(f.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:R})=>R.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:R})=>R.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:R})=>R.spaces[2]};
  }
`,T=({provider:R})=>e.createElement(f.Tooltip,{label:R.displayName},e.createElement(A,{href:`${strapi.backendURL}/admin/connect/${R.uid}`},R.icon?e.createElement("img",{src:R.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(f.Typography,null,R.displayName)));T.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const I=({providers:R,displayAllProviders:W})=>{const{formatMessage:B}=(0,m.useIntl)();return W?e.createElement(f.Grid,{gap:4},R.map(w=>e.createElement(f.GridItem,{key:w.uid,col:4},e.createElement(T,{provider:w})))):R.length>2&&!W?e.createElement(f.Grid,{gap:4},R.slice(0,2).map(w=>e.createElement(f.GridItem,{key:w.uid,col:4},e.createElement(T,{provider:w}))),e.createElement(f.GridItem,{col:4},e.createElement(f.Tooltip,{label:B({id:"global.see-more"})},e.createElement(A,{as:U.Link,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(Z,{justifyContent:"center"},R.map(w=>e.createElement(T,{key:w.uid,provider:w})))};I.defaultProps={displayAllProviders:!0},I.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool};const ee=I},98837:(k,E,t)=>{"use strict";t.d(E,{Z:()=>B});var e=t(67294),l=t(49656),n=t(27821),f=t(95489),d=t(28702),g=t(97132),m=t(90594),U=t(36206),A=t(51780),Z=t(79690);const T=(0,n.default)(d.Divider)`
  flex: 1;
`,ee=()=>{const w=strapi.features.isEnabled(strapi.features.SSO),{push:ne}=(0,l.useHistory)(),{formatMessage:ce}=(0,g.useIntl)(),{isLoading:ke,data:v}=(0,m.p)({ssoEnabled:w}),pe=()=>{ne("/auth/login")};return!w||!ke&&v.length===0?e.createElement(l.Redirect,{to:"/auth/login"}):e.createElement(U.ZP,null,e.createElement(d.Main,null,e.createElement(U.bU,null,e.createElement(U.sg,null,e.createElement(Z.Z,null),e.createElement(d.Box,{paddingTop:6,paddingBottom:1},e.createElement(d.Typography,{as:"h1",variant:"alpha"},ce({id:"Auth.form.welcome.title"}))),e.createElement(d.Box,{paddingBottom:7},e.createElement(d.Typography,{variant:"epsilon",textColor:"neutral600"},ce({id:"Auth.login.sso.subtitle"})))),e.createElement(d.Stack,{spacing:7},ke?e.createElement(d.Flex,{justifyContent:"center"},e.createElement(d.Loader,null,ce({id:"Auth.login.sso.loading"}))):e.createElement(A.Z,{providers:v}),e.createElement(d.Flex,null,e.createElement(T,null),e.createElement(d.Box,{paddingLeft:3,paddingRight:3},e.createElement(d.Typography,{variant:"sigma",textColor:"neutral600"},ce({id:"or"}))),e.createElement(T,null)),e.createElement(d.Button,{fullWidth:!0,size:"L",onClick:pe},ce({id:"Auth.form.button.login.strapi"})))),e.createElement(d.Flex,{justifyContent:"center"},e.createElement(d.Box,{paddingTop:4},e.createElement(f.Link,{to:"/auth/forgot-password"},e.createElement(d.Typography,{variant:"pi"},ce({id:"Auth.link.forgot-password"})))))))};var R=t(42243);const B={...R.Z,providers:{Component:ee,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(k,E,t)=>{"use strict";t.d(E,{Z:()=>l});const l={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(k,E,t)=>{"use strict";k.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
